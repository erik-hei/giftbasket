(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{111:function(e,t,a){e.exports=a.p+"static/media/GiftBasketLogo.acf6e6f5.png"},117:function(e,t,a){e.exports=a.p+"static/media/createIcon.6b9a78de.png"},118:function(e,t,a){e.exports=a.p+"static/media/organizeIcon.c4413aed.png"},119:function(e,t,a){e.exports=a.p+"static/media/shareIcon.3b56106a.png"},120:function(e,t,a){e.exports=a.p+"static/media/findIcon.32d06af8.png"},140:function(e,t,a){e.exports=a(154)},147:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),l=a.n(i),o=a(31),c=a(94),s=a(52),d=a(122),u=a(123),m=a(108),g=new d.a,f=new u.a({uri:"http://localhost:4000/graphql"}),b=Object(m.a)((function(e,t){var a=t.headers,n=localStorage.getItem("token");return{headers:Object(c.a)(Object(c.a)({},a),{},{authorization:n?"Bearer ".concat(n):""})}})),v=new s.a({cache:g,link:b.concat(f)}),E=null!=localStorage.getItem("token");v.writeData({data:{isLoggedIn:E}});a(147);var p=a(13),h=a(19),k=a(11),j=a(14),O=a.n(j),y=a(121),x=a(209),w=a(197),I=a(198),S=a(196),G=a(184),N=a(111),$=a.n(N);var C=function(e){var t=e.link;return r.a.createElement(h.b,{to:t,className:"logo_container"},r.a.createElement("img",{src:$.a,alt:"GiftBasket logo",className:"logo"}),r.a.createElement("h1",{className:"app_name"},"GiftBasket"))},B=a(10),L=a(24),P=a(187),M=a(189),T=a(190),D=a(211),W=a(194),A=a(195);function F(){var e=Object(p.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n    }\n  }\n"]);return F=function(){return e},e}var z=Object(G.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,borderRadius:"5px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},title:{textAlign:"center"},message:{color:"#FF6E67",fontWeight:"bolder"}}})),q=O()(F());var U=function(e){var t=e.isShowing,a=e.toggleModal,i=z(),l=Object(n.useState)(""),o=Object(B.a)(l,2),c=o[0],s=o[1],d=Object(n.useState)(""),u=Object(B.a)(d,2),m=u[0],g=u[1],f=Object(n.useState)(null),b=Object(B.a)(f,2),v=b[0],E=b[1],p=Object(k.a)(),h=Object(k.b)(q,{onCompleted:function(e){var t=e.login;localStorage.setItem("token",t.token),p.writeData({data:{isLoggedIn:!0}})},onError:function(e){var t=e.graphQLErrors,a=e.networkError;t&&E(t[0].message),a&&E(a.message||"Network Error")}}),j=Object(B.a)(h,2),O=j[0],y=j[1],x=y.data;return y.loading?r.a.createElement("div",null,"Loading..."):x?r.a.createElement(L.a,{to:"/home"}):r.a.createElement(P.a,{"aria-labelledby":"login modal","aria-describedby":"A form to login into Giftbasket with an existing account",className:i.modal,open:t,onClose:function(){return a(!1)}},r.a.createElement(M.a,{className:i.title},"Welcome Back!"),r.a.createElement(T.a,null,r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),O({variables:{email:c,password:m}})}(e)}},r.a.createElement(D.a,{required:!0,variant:"outlined",label:"Email",fullWidth:!0,color:"secondary",margin:"normal",onChange:function(e){return s(e.target.value)},value:c}),r.a.createElement(D.a,{required:!0,variant:"outlined",label:"Password",type:"password",fullWidth:!0,color:"secondary",margin:"normal",onChange:function(e){return g(e.target.value)},value:m}),r.a.createElement(W.a,{className:i.message},v),r.a.createElement(A.a,{container:!0},r.a.createElement(A.a,{item:!0,xs:6}),r.a.createElement(A.a,{item:!0,xs:3},r.a.createElement(S.a,{onClick:function(){return a(!1)},color:"secondary",size:"large",fullWidth:!0},"Cancel")),r.a.createElement(A.a,{item:!0,xs:3},r.a.createElement(S.a,{type:"submit",variant:"contained",color:"secondary",size:"large",fullWidth:!0},"Login"))))))},Y=function(){var e=Object(n.useState)(!1),t=Object(B.a)(e,2),a=t[0],r=t[1];return{isShowing:a,toggleModal:function(e){r(e)}}},Q=Object(G.a)((function(){return{root:{flexGrow:1},title:{flexGrow:2}}}));var R=function(){var e=Q(),t=Y(),a=t.isShowing,n=t.toggleModal;return r.a.createElement(w.a,{position:"static",className:e.root},r.a.createElement(I.a,null,r.a.createElement("div",{className:e.title},r.a.createElement(C,{link:"/"})),r.a.createElement(S.a,{onClick:function(){return n(!0)}},"Login")),r.a.createElement(U,{toggleModal:n,isShowing:a}))},K=Object(G.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:2},button:{margin:e.spacing(2)}}}));var _=function(){var e=Object(k.a)(),t=K();return r.a.createElement(w.a,{position:"static",className:t.root},r.a.createElement(I.a,null,r.a.createElement("div",{className:t.title},r.a.createElement(C,{link:"/home"})),r.a.createElement(h.b,{href:"/home",className:t.button},"My Baskets"),r.a.createElement(h.b,{href:"/gifts",className:t.button},"My Gifts"),r.a.createElement(h.b,{href:"/feed",className:t.button},"Discover"),r.a.createElement(S.a,{className:t.button,onClick:function(){return e.clearStore(),e.writeData({data:{isLoggedIn:!1}}),localStorage.removeItem("token"),r.a.createElement(L.a,{to:"/"})}},"Logout")))},H=a(54),J=a(159),V=a(156),X=a(125),Z=a(212),ee=a(203),te=a(87),ae=a(191),ne=a(192),re=a(215),ie=a(199),le=a(213);var oe=function(e){var t=e.addGift,a=e.toggleModal,i=Object(n.useState)(null),l=Object(B.a)(i,2),o=l[0],c=l[1],s=Object(n.useState)(null),d=Object(B.a)(s,2),u=d[0],m=d[1],g=Object(n.useState)(null),f=Object(B.a)(g,2),b=f[0],v=f[1],E=Object(n.useState)("false"),p=Object(B.a)(E,2),h=p[0],k=p[1];return r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),t({title:o,description:u,link:b,isPublic:"true"===h}),a(!1)}(e)}},r.a.createElement(D.a,{variant:"outlined",label:"Title",color:"secondary",fullWidth:!0,margin:"normal",value:o,className:"basket-text-field",onChange:function(e){return c(e.target.value)}}),r.a.createElement(D.a,{variant:"outlined",label:"Description",color:"secondary",fullWidth:!0,margin:"normal",value:u,className:"basket-text-field",onChange:function(e){return m(e.target.value)}}),r.a.createElement(D.a,{variant:"outlined",label:"Link",color:"secondary",fullWidth:!0,margin:"normal",value:b,className:"basket-text-field",onChange:function(e){return v(e.target.value)}}),r.a.createElement(ae.a,{component:"fieldset"},r.a.createElement(ne.a,{component:"legend",color:"secondary"},"Share This Gift?"),r.a.createElement(re.a,{"aria-label":"Share This Gift",name:"shareGift",value:h,onChange:function(e){k(e.target.value)}},r.a.createElement(ie.a,{value:"true",control:r.a.createElement(le.a,null),label:"Share it!"}),r.a.createElement(ie.a,{value:"false",control:r.a.createElement(le.a,null),label:"Keep it Private"}))),r.a.createElement(A.a,{container:!0},r.a.createElement(A.a,{item:!0,xs:5,md:6,lg:7}),r.a.createElement(A.a,{item:!0,xs:7,md:6,lg:5},r.a.createElement(S.a,{type:"submit",variant:"contained",fullWidth:!0,color:"secondary"},"Add Gift"))))};var ce=function(e){e.children;var t=e.value,a=e.index,n=e.addGift,i=e.toggleModal,l=Object(te.a)(e,["children","value","index","addGift","toggleModal"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==a,"aria-labelledby":"New gift form tab panel"},l),r.a.createElement(H.a,{variant:"h4"},"Create a New Gift"),r.a.createElement(oe,{addGift:n,toggleModal:i}))},se=a(193),de=a(200),ue=a(201),me=a(202),ge=a(115),fe=a.n(ge);var be=function(e){var t=e.gifts,a=e.existingGiftIds,n=e.toggleExistingGiftIds;return r.a.createElement(se.a,null,t.map((function(e){return r.a.createElement(de.a,{button:!0,selected:a.includes(e.id),onClick:function(t){return n(t,e.id)},key:e.id},r.a.createElement(ue.a,null,r.a.createElement(fe.a,null)),r.a.createElement(me.a,{primary:e.title,secondary:e.description}))})))};function ve(){var e=Object(p.a)(["\n  query {\n    currentUser {\n      gifts {\n        id,\n        title, \n        description,\n        link\n      }\n    }\n  }"]);return ve=function(){return e},e}var Ee=O()(ve());var pe=function(e){e.children;var t=e.value,a=e.index,n=e.toggleExistingGiftIds,i=e.existingGiftIds,l=Object(te.a)(e,["children","value","index","toggleExistingGiftIds","existingGiftIds"]),o=Object(k.c)(Ee),c=o.data,s=o.loading,d=o.error;return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==a,"aria-labelledby":"Existing Gifts list tab panel"},l),r.a.createElement(H.a,{variant:"h4"},"Current Saved Gifts"),d?r.a.createElement("div",null,"Error!"):null,s?r.a.createElement("div",null,"Loading..."):null,c?r.a.createElement(be,{gifts:c.currentUser.gifts,toggleExistingGiftIds:n,existingGiftIds:i}):null)},he=Object(G.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,borderRadius:"5px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},title:{textAlign:"center"}}}));var ke=function(e){var t=e.isShowing,a=e.toggleModal,i=e.toggleExistingGiftIds,l=e.existingGiftIds,o=e.addGift,c=he(),s=Object(n.useState)(0),d=Object(B.a)(s,2),u=d[0],m=d[1];return r.a.createElement(J.a,{"aria-labelledby":"add gift modal","aria-describedby":"A modal for adding a new gift or select and existing one you've already created",className:c.modal,open:t,onClose:function(){return a(!1)},closeAfterTransition:!0,BackdropComponent:V.a,BackdropProps:{timeout:500}},r.a.createElement(X.a,{in:t},r.a.createElement("div",{className:"".concat(c.paper," no-outline")},r.a.createElement(Z.a,{indicatorColor:"secondary",value:u,onChange:function(e,t){m(t)},"aria-label":"Gift Option Tabs"},r.a.createElement(ee.a,{label:"New Gift",id:"new-gift-tab"}),r.a.createElement(ee.a,{label:"Your Gifts",id:"existing-gift-tab"})),r.a.createElement(ce,{value:u,index:0,addGift:o,toggleModal:a}),r.a.createElement(pe,{value:u,index:1,toggleExistingGiftIds:i,existingGiftIds:l}))))};function je(){var e=Object(p.a)(["\nmutation addGiftToBasket($basketId: Int!, $giftId: Int!) {\n  addGiftToBasket(basketId: $basketId, giftId: $giftId) {\n    id,\n    name,\n  }\n}"]);return je=function(){return e},e}function Oe(){var e=Object(p.a)(["\nmutation createGift($basketId: Int, $title: String!, $description: String, $link: String, $isPublic: Boolean!) {\n  createGift(basketId: $basketId, title: $title, description: $description, link: $link, isPublic: $isPublic) {\n    id\n  }\n}"]);return Oe=function(){return e},e}function ye(){var e=Object(p.a)(["\nmutation deleteBasket($id: Int!) {\n  deleteBasket(id: $id)\n}"]);return ye=function(){return e},e}var xe=O()(ye()),we=O()(Oe()),Ie=O()(je()),Se=Object(G.a)((function(e){return{title:{margin:e.spacing(5)},info:{marginLeft:e.spacing(5),marginBottom:e.spacing(2)},buttons:{width:"50%",marginLeft:e.spacing(4),marginRight:e.spacing(12),display:"flex",justifyContent:"space-between"}}}));var Ge=function(e){var t=e.basket,a=Object(k.b)(xe),n=Object(B.a)(a,2),i=n[0],l=n[1],o=l.data,c=l.loading,s=l.error,d=Object(k.b)(we,{refetchQueries:["basket"]}),u=Object(B.a)(d,2),m=u[0],g=u[1],f=g.loading,b=g.error,v=Object(k.b)(Ie,{refetchQueries:["basket"]}),E=Object(B.a)(v,2),p=E[0],j=E[1],O=j.loading,y=j.error,x=Y(),w=x.isShowing,I=x.toggleModal,G=Se(),N=t.gifts.map((function(e){return e.id}));return c||f||O?r.a.createElement("div",null,"Loading..."):s||b||y?r.a.createElement("div",null,"Error!"):o?r.a.createElement(L.a,{to:"/home"}):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(H.a,{variant:"h2",className:G.title},t.name?t.name:"No name"),r.a.createElement("div",{className:G.info},r.a.createElement(H.a,{variant:"body2"},t.birthdate?function(e){var t=new Date(Date.parse(e)).toString().split(" ");return"".concat(t[1]," ").concat(t[2],", ").concat(t[3])}(t.birthdate):"No birthdate"),r.a.createElement(H.a,{variant:"body2"},t.address?t.address:"No address"))),r.a.createElement("div",{className:G.buttons},r.a.createElement(S.a,{variant:"contained",color:"secondary",onClick:function(){return I(!0)}},"Add Gift"),r.a.createElement(h.b,{variant:"contained",color:"secondary",component:S.a,to:"/basket/".concat(t.id?t.id:"","/edit")},"Edit"),r.a.createElement(S.a,{variant:"contained",color:"secondary",onClick:function(e){return function(e){e.preventDefault(),i({variables:{id:t.id}})}(e)}},"Delete")),r.a.createElement(ke,{toggleModal:I,isShowing:w,addGift:function(e){m({variables:{basketId:t.id,title:e.title,description:e.description,link:e.link,isPublic:"true"===e.isPublic}}),I(!1)},existingGiftIds:N,toggleExistingGiftIds:function(e,a){p({variables:{giftId:a,basketId:t.id}}),I(!1)}}))},Ne=a(92),$e=a(204),Ce=a(205),Be=a(206),Le=a(207);function Pe(){var e=Object(p.a)(["\n  mutation editGift($id: Int!, $title: String, $description: String, $link: String, $isPublic: Boolean!) {\n    editGift(id: $id, title: $title, description: $description, link: $link, isPublic: $isPublic) {\n      id,\n      title\n    }\n  }"]);return Pe=function(){return e},e}var Me=O()(Pe());var Te=function(e){var t=e.gift,a=e.toggleModal,i=Object(n.useState)(t.title),l=Object(B.a)(i,2),o=l[0],c=l[1],s=Object(n.useState)(t.description),d=Object(B.a)(s,2),u=d[0],m=d[1],g=Object(n.useState)(t.link),f=Object(B.a)(g,2),b=f[0],v=f[1],E=Object(n.useState)(t.isPublic?"true":"false"),p=Object(B.a)(E,2),h=p[0],j=p[1],O=Object(k.b)(Me),y=Object(B.a)(O,2),x=y[0],w=y[1],I=w.data,G=w.loading,N=w.error;return G?r.a.createElement("div",null,"Loading..."):N?r.a.createElement("div",null,"Error!"):(I&&a(!1),r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),console.log(o),x({variables:{id:t.id,title:o,description:u,link:b,isPublic:"true"===h}})}(e)}},r.a.createElement(D.a,{variant:"outlined",label:"Title",color:"secondary",fullWidth:!0,margin:"normal",value:o,className:"basket-text-field",onChange:function(e){return c(e.target.value)}}),r.a.createElement(D.a,{variant:"outlined",label:"Description",color:"secondary",fullWidth:!0,margin:"normal",value:u,className:"basket-text-field",onChange:function(e){return m(e.target.value)}}),r.a.createElement(D.a,{variant:"outlined",label:"Link",color:"secondary",fullWidth:!0,margin:"normal",value:b,className:"basket-text-field",onChange:function(e){return v(e.target.value)}}),r.a.createElement(ae.a,{component:"fieldset"},r.a.createElement(ne.a,{component:"legend",color:"secondary"},"Share This Gift?"),r.a.createElement(re.a,{"aria-label":"Share This Gift",name:"shareGift",value:h,onChange:function(e){j(e.target.value)}},r.a.createElement(ie.a,{value:"true",control:r.a.createElement(le.a,null),label:"Share it!"}),r.a.createElement(ie.a,{value:"false",control:r.a.createElement(le.a,null),label:"Keep it Private"}))),r.a.createElement(A.a,{container:!0},r.a.createElement(A.a,{item:!0,xs:5,md:6,lg:7}),r.a.createElement(A.a,{item:!0,xs:7,md:6,lg:5},r.a.createElement(S.a,{type:"submit",variant:"contained",fullWidth:!0,color:"secondary"},"Edit Gift")))))},De=Object(G.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,borderRadius:"5px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},title:{textAlign:"center"}}}));var We=function(e){var t=e.isShowing,a=e.toggleModal,n=e.gift,i=De();return r.a.createElement(J.a,{"aria-labelledby":"edit gift modal","aria-describedby":"A modal for editing an existing gift",className:i.modal,open:t,onClose:function(){return a(!1)},closeAfterTransition:!0,BackdropComponent:V.a,BackdropProps:{timeout:500}},r.a.createElement(X.a,{in:t},r.a.createElement("div",{className:"".concat(i.paper," no-outline")},r.a.createElement(Te,{gift:n,toggleModal:a}))))};function Ae(){var e=Object(p.a)(["\nmutation addGiftToUser($id: Int!) {\n  addGiftToUser(id: $id) {\n    id,\n    name,\n  }\n}\n"]);return Ae=function(){return e},e}function Fe(){var e=Object(p.a)(["\n  mutation removeGiftFromBasket($giftId: Int!, $basketId: Int!) {\n    removeGiftFromBasket(giftId: $giftId, basketId: $basketId)\n  }"]);return Fe=function(){return e},e}function ze(){var e=Object(p.a)(["\n  mutation deleteGift($id: Int!) {\n    deleteGift(id: $id)\n  }"]);return ze=function(){return e},e}var qe=O()(ze()),Ue=O()(Fe()),Ye=O()(Ae()),Qe=Object(G.a)((function(e){return{card:{margin:"1em"}}}));var Re=function(e){var t=e.gift,a=e.isNewBasketFlow,n=e.isExistingBasketFlow,i=Y(),l=i.isShowing,o=i.toggleModal,c=Object(L.g)().id,s=Object(k.b)(qe,{refetchQueries:["basket"]}),d=Object(B.a)(s,2),u=d[0],m=d[1],g=(m.data,m.loading),f=m.error,b=Object(k.b)(Ue,{refetchQueries:["basket"]}),v=Object(B.a)(b,2),E=v[0];Object(Ne.a)(v[1]);var p=Object(k.b)(Ye),j=Object(B.a)(p,2),O=j[0];Object(Ne.a)(j[1]);var y=Qe();return g?r.a.createElement("div",null,"Loading..."):f?r.a.createElement("div",null,"Error!"):r.a.createElement($e.a,{elevation:3,className:y.card},r.a.createElement(Ce.a,null,r.a.createElement(H.a,{variant:"h4"},t.title?t.title:"No Title"),r.a.createElement(H.a,{variant:"body2"},t.description?t.description:""),r.a.createElement(H.a,{variant:"subtitle1"},"Status:"," ",t.isPublic?"Public":"Private")),r.a.createElement(Be.a,null,t.link?r.a.createElement(h.b,{size:"small",color:"secondary",component:Le.a,to:t.link,target:"_blank"},"See Product"):null,a||t.isPublic?r.a.createElement(S.a,{size:"small",color:"secondary",onClick:function(){O({variables:{id:t.id}})}},"Add"):r.a.createElement("div",null,r.a.createElement(S.a,{size:"small",color:"secondary",onClick:function(){return o(!0)}},"Edit Gift"),n?r.a.createElement(S.a,{size:"small",color:"secondary",onClick:function(){E({variables:{giftId:t.id,basketId:c}})}},"Remove Gift"):r.a.createElement(S.a,{size:"small",color:"secondary",onClick:function(){u({variables:{id:t.id}})}},"Delete Gift"))),r.a.createElement(We,{gift:t,isShowing:l,toggleModal:o}))};function Ke(){var e=Object(p.a)(["\n  query basket($id: Int!) {\n    basket(id: $id) {\n      id,\n      name,\n      birthdate,\n      gifts {\n        id,\n        title,\n        description\n      }\n    }\n  }"]);return Ke=function(){return e},e}var _e=O()(Ke());var He=function(e){var t=e.isLoggedIn,a=Object(L.g)().id,n=Object(k.c)(_e,{variables:{id:parseInt(a,10)}}),i=n.data,l=n.loading,o=n.error;if(!t)return r.a.createElement(L.a,{to:"/"});if(l)return r.a.createElement("div",null,"Loading...");if(o)return r.a.createElement("div",null,"Error!");var c=i.basket;return r.a.createElement("div",null,r.a.createElement(Ge,{basket:c||null}),c.gifts.map((function(e){return r.a.createElement(Re,{key:e.id,gift:e,isExistingBasketFlow:!0})})))},Je=a(93),Ve=a(208),Xe=a(116),Ze=a.n(Xe),et=a(86),tt=a(32),at=a(210);var nt=function(e){var t=e.gifts,a=e.isNewBasketFlow,n=e.isExistingBasketFlow;return r.a.createElement(A.a,{container:!0},t.length>0?t.map((function(e){return r.a.createElement(A.a,{item:!0,xs:6,md:4,lg:3,key:e.id},r.a.createElement(Re,{gift:e,isNewBasketFlow:a,isExistingBasketFlow:n}))})):r.a.createElement("div",null,"No Gifts Added Yet."))};function rt(){var e=Object(p.a)(["\n  mutation createBasket($name: String!, $birthdate: String, $address: String, $gifts: [CreateGiftInput!]!, $existingGiftIds: [ID!]!) {\n    createBasket(name: $name, birthdate: $birthdate, address: $address, gifts: $gifts, existingGiftIds: $existingGiftIds) {\n      id,\n      name,\n      birthdate,\n      gifts {\n        title,\n        description,\n        isPublic\n      }\n    }\n  }"]);return rt=function(){return e},e}var it=Object(G.a)((function(){return{title:{marginTop:"1em"},submit:{margin:"1em 0 5em 0"},addGift:{marginTop:"1em",marginBottom:"1em"}}})),lt=O()(rt());var ot=function(e){var t=e.isLoggedIn,a=Object(n.useState)(""),i=Object(B.a)(a,2),l=i[0],o=i[1],c=Object(n.useState)(new Date),s=Object(B.a)(c,2),d=s[0],u=s[1],m=Object(n.useState)(""),g=Object(B.a)(m,2),f=g[0],b=g[1],v=Object(n.useState)([]),E=Object(B.a)(v,2),p=E[0],h=E[1],j=Object(n.useState)([]),O=Object(B.a)(j,2),y=O[0],x=O[1],w=it(),I=Y(),G=I.isShowing,N=I.toggleModal,$=Object(k.b)(lt),C=Object(B.a)($,2),P=C[0],M=C[1].data;return t?M?r.a.createElement(L.a,{to:"/basket/".concat(M.createBasket.id)}):r.a.createElement("div",null,r.a.createElement(H.a,{variant:"h2",align:"center",className:w.title}," Create a Basket"),r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),l.length<1||P({variables:{name:l,birthdate:d,address:f,gifts:p,existingGiftIds:y}})}(e)}},r.a.createElement(A.a,{container:!0,justify:"space-around"},r.a.createElement(D.a,{variant:"outlined",label:"Name",color:"secondary",margin:"normal",value:l,className:"basket-text-field",onChange:function(e){return o(e.target.value)}}),r.a.createElement(tt.a,{utils:et.a},r.a.createElement(at.a,{variant:"inline",inputVariant:"outlined",color:"secondary",format:"MM/dd/yyyy",margin:"normal",label:"Birthdate",value:d,onChange:u,className:"basket-text-field",KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(D.a,{variant:"outlined",label:"Address",color:"secondary",margin:"normal",className:"basket-text-field",value:f,onChange:function(e){return b(e.target.value)}}),r.a.createElement("div",{className:"basket-text-field"},r.a.createElement(Ve.a,{className:w.addGift,variant:"extended",type:"button",color:"secondary",onClick:function(){return N(!0)}},r.a.createElement(Ze.a,null),"Add Gift")),r.a.createElement("div",{className:"basket-text-field"},r.a.createElement(nt,{gifts:p,isNewBasketFlow:!0})),r.a.createElement("div",{className:"basket-text-field"},r.a.createElement(S.a,{type:"submit",className:w.submit,fullWidth:!0,variant:"contained",color:"secondary"},"Create Basket!")))),r.a.createElement(ke,{toggleModal:N,isShowing:G,addGift:function(e){h([].concat(Object(Je.a)(p),[e]))},existingGiftIds:y,toggleExistingGiftIds:function(e,t){if(y.includes(t)){var a=y.indexOf(t);x(y.slice(0,a).concat(y.slice(a+1)))}else x([].concat(Object(Je.a)(y),[t]))}})):r.a.createElement(L.a,{to:"/"})};function ct(){var e=Object(p.a)(["\nmutation editBasket($id: Int!, $name: String, $birthdate: String, $address: String) {\n  editBasket(id: $id, name: $name, birthdate: $birthdate, address: $address) {\n    id, \n    name\n  }\n}"]);return ct=function(){return e},e}var st=O()(ct()),dt=Object(G.a)((function(e){return{button:{marginTop:"1em",width:"65%"}}}));var ut=function(e){var t=e.basket,a=Object(n.useState)(t.name),i=Object(B.a)(a,2),l=i[0],o=i[1],c=Object(n.useState)(t.birthdate),s=Object(B.a)(c,2),d=s[0],u=s[1],m=Object(n.useState)(t.address),g=Object(B.a)(m,2),f=g[0],b=g[1],v=dt(),E=Object(k.b)(st),p=Object(B.a)(E,2),h=p[0],j=p[1],O=j.data,y=j.loading,x=j.error;return y?r.a.createElement("div",null,"Loading..."):x?r.a.createElement("div",null,"Error!"):O?r.a.createElement(L.a,{to:"/basket/".concat(O.editBasket.id)}):r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),h({variables:{id:t.id,name:l,birthdate:d,address:f}})}(e)}},r.a.createElement(A.a,{container:!0,justify:"space-around"},r.a.createElement(D.a,{variant:"outlined",label:"Name",color:"secondary",margin:"normal",value:l,className:"basket-text-field",onChange:function(e){return o(e.target.value)}}),r.a.createElement(tt.a,{utils:et.a},r.a.createElement(at.a,{variant:"inline",inputVariant:"outlined",color:"secondary",format:"MM/dd/yyyy",margin:"normal",label:"Birthdate",value:d,onChange:u,className:"basket-text-field",KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(D.a,{variant:"outlined",label:"Address",color:"secondary",margin:"normal",className:"basket-text-field",value:f,onChange:function(e){return b(e.target.value)}}),r.a.createElement(S.a,{className:v.button,variant:"contained",type:"submit",color:"secondary"},"Update Basket")))};function mt(){var e=Object(p.a)(["\nquery basket($id: Int!) {\n  basket(id: $id) {\n    id,\n    name,\n    birthdate,\n    address\n  }\n}"]);return mt=function(){return e},e}var gt=O()(mt()),ft=Object(G.a)((function(e){return{title:{margin:e.spacing(5)}}}));var bt=function(e){var t=e.isLoggedIn,a=Object(L.g)().id,n=ft(),i=Object(k.c)(gt,{variables:{id:parseInt(a,10)}}),l=i.data,o=i.loading,c=i.error;return t?o?r.a.createElement("div",null,"Loading..."):c?r.a.createElement("div",null,"Error!"):r.a.createElement("div",null,r.a.createElement(H.a,{variant:"h2",align:"center",className:n.title},"Edit ",l.basket.name),r.a.createElement(ut,{basket:l.basket})):r.a.createElement(L.a,{to:"/"})};function vt(){var e=Object(p.a)(["\n  query {\n    gifts {\n      id,\n      title,\n      description,\n      isPublic\n    }\n  }\n"]);return vt=function(){return e},e}var Et=O()(vt()),pt=Object(G.a)((function(e){return{title:{margin:e.spacing(5)},button:{margin:"0 auto",marginTop:e.spacing(5),marginBottom:e.spacing(5),display:"block",width:"65%"}}}));var ht=function(e){var t=e.isLoggedIn,a=Object(k.c)(Et),n=a.data,i=a.loading,l=a.error,o=pt();if(!t)return r.a.createElement(L.a,{to:"/"});if(i)return r.a.createElement("div",null,"Loading...");if(l)return r.a.createElement("div",null,"Error!");var c=n.gifts;return r.a.createElement("div",null,r.a.createElement(H.a,{variant:"h2",align:"center",className:o.title},"Discover Other Gifts!"),r.a.createElement(nt,{gifts:c}))};function kt(){var e=Object(p.a)(["\nmutation createGift($title: String!, $description: String, $link: String, $isPublic: Boolean!) {\n  createGift(title: $title, description: $description, link: $link, isPublic: $isPublic) {\n    id\n  }\n}"]);return kt=function(){return e},e}var jt=Object(G.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,borderRadius:"5px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},title:{textAlign:"center"}}})),Ot=O()(kt());var yt=function(e){var t=e.isShowing,a=e.toggleModal,n=jt(),i=Object(k.b)(Ot,{refetchQueries:["currentUser"]}),l=Object(B.a)(i,2),o=l[0];return l[1].data,r.a.createElement(J.a,{"aria-labelledby":"create gift modal","aria-describedby":"A modal for creating a new gift",className:n.modal,open:t,onClose:function(){return a(!1)},closeAfterTransition:!0,BackdropComponent:V.a,BackdropProps:{timeout:500}},r.a.createElement(X.a,{in:t},r.a.createElement("div",{className:"".concat(n.paper," no-outline")},r.a.createElement(H.a,{variant:"h4"},"New Gift"),r.a.createElement(oe,{addGift:function(e){o({variables:{title:e.title,description:e.description,link:e.link,isPublic:e.isPublic}})},toggleModal:a}))))};function xt(){var e=Object(p.a)(["\n  query currentUser{\n    currentUser {\n      gifts {\n        id, \n        title,\n        description,\n        link,\n        isPublic\n      }\n    }\n  }\n"]);return xt=function(){return e},e}var wt=O()(xt()),It=Object(G.a)((function(e){return{title:{margin:e.spacing(5)},button:{margin:"0 auto",marginTop:e.spacing(5),marginBottom:e.spacing(5),display:"block",width:"65%"}}}));var St=function(e){var t=e.isLoggedIn,a=Object(k.a)(),n=Object(k.c)(wt),i=n.data,l=n.loading,o=n.error,c=Y(),s=c.isShowing,d=c.toggleModal,u=It();if(!t)return r.a.createElement(L.a,{to:"/"});if(l)return r.a.createElement("div",null,"Loading...");if(o)return a.clearStore(),a.writeData({data:{isLoggedIn:!1}}),localStorage.removeItem("token"),r.a.createElement("div",null,"Error!");var m=i.currentUser.gifts;return r.a.createElement("div",null,r.a.createElement(H.a,{variant:"h2",align:"center",className:u.title},"Your Gifts"),r.a.createElement(S.a,{className:u.button,variant:"contained",color:"secondary",onClick:function(){return d(!0)}},"Add Gift"),r.a.createElement(nt,{gifts:m}),r.a.createElement(yt,{toggleModal:d,isShowing:s}))},Gt=Object(G.a)((function(e){return{root:{maxWidth:"100%",minHeight:180,margin:e.spacing(2)}}}));var Nt=function(e){var t=e.basket,a=Gt();return r.a.createElement($e.a,{className:a.root,elevation:3},r.a.createElement(Ce.a,null,r.a.createElement(H.a,{gutterBottom:!0,variant:"h5"},t.name?t.name:"Empty Basket"),r.a.createElement(H.a,{variant:"body2"},t.birthdate?function(e){var t=new Date(Date.parse(e)).toString().split(" ");return"".concat(t[1]," ").concat(t[2],", ").concat(t[3])}(t.birthdate):"Empty Birthdate")),r.a.createElement(Be.a,null,r.a.createElement(h.b,{size:"small",color:"secondary",component:S.a,to:"basket/".concat(t.id?t.id:"")},"See More")))};function $t(){var e=Object(p.a)(["\n  query {\n    currentUser {\n      baskets {\n        id,\n        name,\n        birthdate,\n        address\n      }\n    }\n  }"]);return $t=function(){return e},e}var Ct=Object(G.a)((function(e){return{title:{margin:e.spacing(5)},button:{margin:"0 auto",marginTop:e.spacing(5),marginBottom:e.spacing(5),display:"block",width:"65%"}}})),Bt=O()($t());var Lt=function(e){var t=e.isLoggedIn,a=Ct(),n=Object(k.a)(),i=Object(k.c)(Bt),l=i.data,o=i.loading,c=i.error;if(!t)return r.a.createElement(L.a,{to:"/"});if(o)return r.a.createElement("div",null,"Loading...");if(c)return n.clearStore(),n.writeData({data:{isLoggedIn:!1}}),localStorage.removeItem("token"),r.a.createElement("div",null,"Error!");var s=l.currentUser.baskets;return r.a.createElement("div",null,r.a.createElement(H.a,{variant:"h2",align:"center",className:a.title},"Your Baskets"),r.a.createElement(S.a,{color:"secondary",variant:"contained",component:h.b,to:"/basket/new",className:a.button},"Create New Basket"),s.map((function(e){return r.a.createElement(Nt,{key:e.id,basket:e})})))},Pt=a(96),Mt=a(214);function Tt(){var e=Object(p.a)(["\n  mutation signup($email: String!, $password: String!, $name: String!) {\n    signup(email: $email, password: $password, name: $name) {\n      token\n    }\n  }\n"]);return Tt=function(){return e},e}var Dt=Object(G.a)((function(){return{root:{flexGrow:1,padding:"1em",opacity:"85%"},title:{textAlign:"center"},message:{color:"#FF6E67",fontWeight:"bolder"}}})),Wt=O()(Tt());var At=function(){var e=Dt(),t=Object(n.useState)(""),a=Object(B.a)(t,2),i=a[0],l=a[1],o=Object(n.useState)(""),c=Object(B.a)(o,2),s=c[0],d=c[1],u=Object(n.useState)(""),m=Object(B.a)(u,2),g=m[0],f=m[1],b=Object(n.useState)(""),v=Object(B.a)(b,2),E=v[0],p=v[1],h=Object(n.useState)(!1),j=Object(B.a)(h,2),O=j[0],y=j[1],x=Object(n.useState)(null),w=Object(B.a)(x,2),I=w[0],G=w[1],N=Object(k.a)(),$=Object(k.b)(Wt,{onCompleted:function(e){var t=e.signup;localStorage.setItem("token",t.token),N.writeData({data:{isLoggedIn:!0}})},onError:function(e){var t=e.graphQLErrors,a=e.networkError;t&&G(t[0].message),a&&G(a.message||"Network Error")}}),C=Object(B.a)($,2),P=C[0],M=C[1],T=M.data;return M.loading?r.a.createElement("div",null,"Loading..."):T?r.a.createElement(L.a,{to:"/home"}):r.a.createElement(Pt.a,{className:e.root},r.a.createElement(H.a,{variant:"h6",className:e.title},"Join Now!"),r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),O?g===E?P({variables:{email:i,password:g,name:s}}):G("Your passwords do not match."):G("You must be 18 or older to use this site.")}(e)}},r.a.createElement(D.a,{variant:"outlined",label:"Name",fullWidth:!0,color:"secondary",margin:"normal",value:s,onChange:function(e){return d(e.target.value)}}),r.a.createElement(D.a,{required:!0,variant:"outlined",label:"Email",fullWidth:!0,color:"secondary",margin:"normal",value:i,onChange:function(e){return l(e.target.value)}}),r.a.createElement(D.a,{required:!0,helperText:"Passwords must be at least 12 characters long and contain at least one uppercase letter, one lowercase, one number, and one symbol.",variant:"outlined",label:"Password",type:"password",fullWidth:!0,color:"secondary",margin:"normal",value:g,onChange:function(e){return f(e.target.value)}}),r.a.createElement(D.a,{required:!0,variant:"outlined",label:"Confirm Password",type:"password",fullWidth:!0,color:"secondary",margin:"normal",value:E,onChange:function(e){return p(e.target.value)}}),r.a.createElement(ie.a,{control:r.a.createElement(Mt.a,{checked:O,onChange:function(){y(!O)},name:"confirmAgeCheckbox"}),label:"By checking this box you submit that you are at least 18 years or older"}),r.a.createElement(A.a,{container:!0},r.a.createElement(A.a,{item:!0,xs:12},r.a.createElement(H.a,{variant:"subtitle2",className:e.message},I))),r.a.createElement(A.a,{container:!0},r.a.createElement(A.a,{item:!0,xs:9}),r.a.createElement(A.a,{item:!0,xs:3},r.a.createElement(S.a,{type:"submit",variant:"contained",color:"secondary",size:"large",fullWidth:!0},"Sign Up")))))},Ft=Object(G.a)((function(e){return{root:{maxWidth:"100%",minHeight:360,margin:e.spacing(2)},mediaContainer:{display:"flex",justifyContent:"center"},media:{height:"180px"}}}));var zt=function(e){var t=e.cardInfo,a=Ft();return r.a.createElement($e.a,{className:a.root,elevation:3},r.a.createElement(Ce.a,null,r.a.createElement("div",{className:a.mediaContainer},r.a.createElement("img",{className:a.media,src:t.image,alt:t.imgTitle})),r.a.createElement(H.a,{gutterBottom:!0,variant:"h5"},t.title),r.a.createElement(H.a,{variant:"body2",color:"textSecondary"},t.description)))},qt=a(117),Ut=a.n(qt),Yt=a(118),Qt=a.n(Yt),Rt=a(119),Kt=a.n(Rt),_t=a(120),Ht=a.n(_t),Jt=[{image:Ut.a,imgTitle:"Create Gifts",title:"Create",description:"Create and save new gift ideas to specific baskets or just to your profile to be used later."},{image:Qt.a,imgTitle:"Organize Baskets",title:"Organize",description:"Keep organized of who gets what gift by assigning them to a basket! You can also keep track of gifts you've already given."},{image:Kt.a,imgTitle:"Share Gifts",title:"Share",description:"Got a great gift idea you think others will love? Make it public for others to discover!"},{image:Ht.a,imgTitle:"Find Gifts",title:"Discover",description:"Have a special event coming up but not sure where to start? Explore and discover other gift ideas others have shared."}],Vt=Object(G.a)((function(e){return{title:{color:e.palette.secondary.main,textAlign:"center",fontWeight:"bold"}}}));var Xt=function(){var e=Vt();return r.a.createElement(A.a,{container:!0,className:"section"},r.a.createElement(A.a,{item:!0,xs:12},r.a.createElement(H.a,{variant:"h2",className:e.title},"About")),Jt.map((function(e){return r.a.createElement(A.a,{item:!0,lg:3,md:3,xs:6,key:e.title},r.a.createElement(zt,{cardInfo:e}))})))},Zt=Object(G.a)((function(e){return{root:{flexGrow:1,overflow:"hidden"},item:{marginTop:e.spacing(4)}}}));var ea=function(e){var t=e.isLoggedIn,a=Zt();return t?r.a.createElement(L.a,{to:"/home"}):r.a.createElement("div",null,r.a.createElement("div",{className:"hero ".concat(a.root)},r.a.createElement(A.a,{container:!0},r.a.createElement(A.a,{item:!0,lg:6,md:2,xs:1}),r.a.createElement(A.a,{item:!0,lg:5,md:8,xs:10,className:a.item},r.a.createElement(At,null)))),r.a.createElement("div",null,r.a.createElement(Xt,null)))};var ta=function(){return r.a.createElement("div",null,"NotFound")};var aa=function(e){return r.a.createElement(L.d,null,r.a.createElement(L.b,{path:"/",exact:!0,render:function(){return r.a.createElement(ea,{isLoggedIn:e.isLoggedIn})}}),r.a.createElement(L.b,{path:"/home",exact:!0,render:function(){return r.a.createElement(Lt,{isLoggedIn:e.isLoggedIn})}}),r.a.createElement(L.b,{path:"/basket/new",exact:!0,render:function(){return r.a.createElement(ot,{isLoggedIn:e.isLoggedIn})}}),r.a.createElement(L.b,{path:"/basket/:id",exact:!0,render:function(){return r.a.createElement(He,{isLoggedIn:e.isLoggedIn})}}),r.a.createElement(L.b,{path:"/basket/:id/edit",exact:!0,render:function(){return r.a.createElement(bt,{isLoggedIn:e.isLoggedIn})}}),r.a.createElement(L.b,{path:"/gifts",exact:!0,render:function(){return r.a.createElement(St,{isLoggedIn:e.isLoggedIn})}}),r.a.createElement(L.b,{path:"/feed",exact:!0,render:function(){return r.a.createElement(ht,{isLoggedIn:e.isLoggedIn})}}),r.a.createElement(L.b,{path:"*",component:ta}))};var na=function(){return r.a.createElement(A.a,{container:!0,className:"footer"},r.a.createElement(A.a,{item:!0,lg:4,md:4,xs:12},r.a.createElement(H.a,{variant:"subtitle2"},"Copyright \xa9 2020, Melissa Young")),r.a.createElement(A.a,{item:!0,lg:4,md:4,xs:12},r.a.createElement(Le.a,{href:"https://github.com/melissay94/giftbasket",target:"_blank",color:"secondary"},"GiftBasket GitHub")),r.a.createElement(A.a,{item:!0,lg:4,md:4,xs:12},r.a.createElement(Le.a,{href:"https://linkedin.com/in/melissadcyoung/",target:"_blank",color:"secondary"},"My LinkedIn")))};a(153);function ra(){var e=Object(p.a)(["{\n  isLoggedIn @client\n}"]);return ra=function(){return e},e}var ia=Object(y.a)({palette:{primary:{light:"#ffe69b",main:"#ffe082",dark:"#b29c5b",contrastText:"#000000"},secondary:{light:"#8d7bff",main:"#715aff",dark:"#4f3eb2",contrastText:"#FFFFFF"}}}),la=O()(ra());var oa=function(){var e=Object(k.c)(la).data,t=e.isLoggedIn?r.a.createElement(_,null):r.a.createElement(R,null);return r.a.createElement(h.a,{basename:"/"},r.a.createElement("div",{className:"App"},r.a.createElement(x.a,{theme:ia},t,r.a.createElement("main",null,r.a.createElement(aa,{isLoggedIn:e.isLoggedIn})),r.a.createElement(na,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{client:v},r.a.createElement(oa,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[140,1,2]]]);
//# sourceMappingURL=main.d7195c11.chunk.js.map